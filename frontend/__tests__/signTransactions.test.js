import signTransactions from '../src/scripts/utils/signTransactions';

const inputData = {
  account: '74213041477477406320783754',
  transactions: [
    {
      amount: 1000.11,
      date: '2021-09-04T23:00:44.486Z',
      from: '74213041477477406320783754',
      to: '61253747452820828268825011',
    },
    {
      amount: 1000.11,
      date: '2021-09-04T23:00:44.486Z',
      from: '61253747452820828268825011',
      to: '74213041477477406320783754',
    },
    {
      amount: 0,
      date: '2021-09-04T23:00:44.486Z',
      from: '74213041477477406320783754',
      to: '61253747452820828268825011',
    },
    {
      amount: 0,
      date: '2021-09-04T23:00:44.486Z',
      from: '61253747452820828268825011',
      to: '74213041477477406320783754',
    },
    {
      amount: 1,
      date: '2021-09-04T23:00:44.486Z',
      from: '74213041477477406320783754',
      to: '61253747452820828268825011',
    },
    {
      amount: 1,
      date: '2021-09-04T23:00:44.486Z',
      from: '61253747452820828268825011',
      to: '74213041477477406320783754',
    },
  ],
};

const expectedData = {
  account: '74213041477477406320783754',
  transactions: [
    {
      amount: -1000.11,
      date: '2021-09-04T23:00:44.486Z',
      from: '74213041477477406320783754',
      to: '61253747452820828268825011',
    },
    {
      amount: 1000.11,
      date: '2021-09-04T23:00:44.486Z',
      from: '61253747452820828268825011',
      to: '74213041477477406320783754',
    },
    {
      amount: -0,
      date: '2021-09-04T23:00:44.486Z',
      from: '74213041477477406320783754',
      to: '61253747452820828268825011',
    },
    {
      amount: 0,
      date: '2021-09-04T23:00:44.486Z',
      from: '61253747452820828268825011',
      to: '74213041477477406320783754',
    },
    {
      amount: -1,
      date: '2021-09-04T23:00:44.486Z',
      from: '74213041477477406320783754',
      to: '61253747452820828268825011',
    },
    {
      amount: 1,
      date: '2021-09-04T23:00:44.486Z',
      from: '61253747452820828268825011',
      to: '74213041477477406320783754',
    },
  ],
};

describe('Проверка функции signTransactions', () => {
  test('Вычисление негативных сумм проходит успешно', () => {
    signTransactions(inputData);

    expect(inputData).toEqual(expectedData);
  });
});
